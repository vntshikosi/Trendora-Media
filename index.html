<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trendora Media | Service Selector</title>
    <style>
        /* --- CSS STYLES --- */
        :root {
            --bg-dark: #0f1420;
            --bg-card: #1a2639;
            --accent: #4a90e2;
            --silver: #e0e6ed;
            --white: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            background-color: var(--bg-dark);
            color: var(--silver);
            line-height: 1.6;
        }

        nav {
            display: flex;
            align-items: center;
            padding: 1.5rem 5%;
            background: rgba(15, 20, 32, 0.95);
            border-bottom: 1px solid #2c3e50;
            position: sticky; top: 0; z-index: 1000;
        }

        .logo-container { display: flex; align-items: center; gap: 15px; }
        .logo-img { height: 50px; width: auto; display: block; }
        .brand-name { font-size: 1.5rem; font-weight: 700; color: var(--white); text-transform: uppercase; }

        .hero {
            text-align: center;
            padding: 4rem 20px;
            background: radial-gradient(circle at center, #233550 0%, var(--bg-dark) 70%);
        }
        .hero h1 { font-size: 2.5rem; color: var(--white); margin-bottom: 10px; }

        .container { max-width: 1200px; margin: 0 auto; padding: 2rem 20px; }
        .section-title { text-align: center; margin-bottom: 3rem; color: var(--accent); }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid #2c3e50;
            border-radius: 12px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .card.selected { border: 2px solid var(--accent); background: #1e2f46; }
        .card.selected::after {
            content: "✓ Selected";
            position: absolute; top: -10px; right: 20px;
            background: var(--accent); color: white;
            padding: 4px 12px; border-radius: 20px; font-size: 0.8rem;
        }

        .price { font-size: 1.8rem; color: var(--white); font-weight: bold; margin: 15px 0; }
        .price span { font-size: 1rem; color: #888; font-weight: normal; }

        .summary-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: #1a2639; border-top: 1px solid var(--accent);
            padding: 15px 5%; display: flex; justify-content: space-between; align-items: center;
            transform: translateY(100%); transition: transform 0.3s ease-in-out;
            box-sizing: border-box; z-index: 2000;
        }
        .summary-bar.active { transform: translateY(0); }
        .total-amount { font-weight: bold; color: var(--accent); font-size: 1.5rem; }

        .btn-request {
            background: var(--accent); color: white; border: none;
            padding: 12px 30px; border-radius: 6px; font-weight: bold; cursor: pointer;
        }
        .btn-request:hover { background: #357abd; }
    </style>
</head>
<body>

    <nav>
        <div class="logo-container">
            <img src="logo.jpg" alt="Trendora Logo" class="logo-img" onerror="this.style.display='none'">
            <span class="brand-name">Trendora Media</span>
        </div>
    </nav>

    <header class="hero">
        <h1>Build. Market. Create.</h1>
        <p>Select the services you need below to generate a custom quote request.</p>
        <p style="font-size: 0.9rem; color: var(--accent); margin-top: 10px;" id="location-text">Detecting currency...</p>
    </header>

    <div class="container">
        <h2 class="section-title">Our Services</h2>
        
        <div class="grid">
            <div class="card" onclick="toggleService(this, 'Standard Website Build')" data-usd="1500">
                <h3>Standard Website</h3>
                <p>5-page responsive website, SEO ready, contact forms included.</p>
                <div class="price">$1,500 <span>/ project</span></div>
            </div>

            <div class="card" onclick="toggleService(this, 'E-Commerce Website')" data-usd="2500">
                <h3>E-Commerce Store</h3>
                <p>Full online store, payment integration, product setup.</p>
                <div class="price">$2,500 <span>/ project</span></div>
            </div>

            <div class="card" onclick="toggleService(this, 'Website Maintenance')" data-usd="200">
                <h3>Web Maintenance</h3>
                <p>Monthly updates, security checks, and minor content edits.</p>
                <div class="price">$200 <span>/ month</span></div>
            </div>

            <div class="card" onclick="toggleService(this, 'Social Media Marketing')" data-usd="800">
                <h3>Social Media Mgmt</h3>
                <p>12 posts/month, community engagement, monthly report.</p>
                <div class="price">$800 <span>/ month</span></div>
            </div>

            <div class="card" onclick="toggleService(this, 'Paid Ads Campaign')" data-usd="1200">
                <h3>Paid Ad Campaign</h3>
                <p>Google or Meta ads setup, A/B testing, and optimization.</p>
                <div class="price">$1,200 <span>/ month</span></div>
            </div>

            <div class="card" onclick="toggleService(this, 'Photography Session')" data-usd="400">
                <h3>Photography</h3>
                <p>2-hour brand or product photoshoot + professional editing.</p>
                <div class="price">$400 <span>/ session</span></div>
            </div>

            <div class="card" onclick="toggleService(this, 'Video Editing')" data-usd="300">
                <h3>Video Editing</h3>
                <p>Professional cutting, color grading, and sound design (per min).</p>
                <div class="price">$300 <span>/ video</span></div>
            </div>
        </div>
    </div>

    <div class="summary-bar" id="summaryBar">
        <div class="total-display">
            Estimated Total: <span class="total-amount" id="totalPrice">0</span>
        </div>
        <button class="btn-request" onclick="sendRequest()">Proceed to Request</button>
    </div>

    <script>
        // Default settings (USD)
        let currentCurrency = "$";
        let currentRate = 1;
        let total = 0;
        let selectedServices = [];

        // 1. EXCHANGE RATES (You can adjust these numbers)
        const rates = {
            "ZA": { code: "ZAR", symbol: "R", rate: 19 },   // South Africa (approx 19 Rand to 1 USD)
            "GB": { code: "GBP", symbol: "£", rate: 0.79 }, // UK
            "EU": { code: "EUR", symbol: "€", rate: 0.92 }, // Europe
            "CA": { code: "CAD", symbol: "C$", rate: 1.35 } // Canada
        };

        // 2. DETECT LOCATION
        fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const country = data.country_code; // e.g., "ZA", "US", "GB"
                
                // If we have a rate for this country, switch to it
                if (rates[country]) {
                    currentCurrency = rates[country].symbol;
                    currentRate = rates[country].rate;
                    document.getElementById('location-text').innerText = `Pricing converted to ${rates[country].code} for ${data.country_name}`;
                } else {
                    document.getElementById('location-text').innerText = `Pricing in USD (International)`;
                }

                updatePricesOnPage();
            })
            .catch(error => {
                console.log("Could not detect location, defaulting to USD");
                document.getElementById('location-text').innerText = "";
            });

        // 3. UPDATE PRICES VISUALLY
        function updatePricesOnPage() {
            const cards = document.querySelectorAll('.card');
            
            cards.forEach(card => {
                const basePrice = parseInt(card.getAttribute('data-usd'));
                const localPrice = Math.round(basePrice * currentRate).toLocaleString();
                
                // Update the visible text inside the card
                const priceDiv = card.querySelector('.price');
                // Keep the "span" part (/ month etc) intact
                const spanText = priceDiv.querySelector('span').innerText;
                priceDiv.innerHTML = `${currentCurrency}${localPrice} <span>${spanText}</span>`;
            });
        }

        // 4. HANDLE CLICKS
        function toggleService(cardElement, name) {
            // Get price from the data attribute
            const baseUsdPrice = parseInt(cardElement.getAttribute('data-usd'));
            
            // Calculate current local price
            const localPrice = Math.round(baseUsdPrice * currentRate);

            cardElement.classList.toggle('selected');

            if (cardElement.classList.contains('selected')) {
                total += localPrice;
                selectedServices.push(name);
            } else {
                total -= localPrice;
                const index = selectedServices.indexOf(name);
                if (index > -1) selectedServices.splice(index, 1);
            }

            // Update Total Bar
            document.getElementById('totalPrice').innerText = currentCurrency + total.toLocaleString();
            
            const bar = document.getElementById('summaryBar');
            if (total > 0) bar.classList.add('active');
            else bar.classList.remove('active');
        }

        // 5. SEND EMAIL
        function sendRequest() {
            if(selectedServices.length === 0) return;
            let clientName = prompt("Please enter your Name/Company Name:");
            if (clientName) {
                const subject = encodeURIComponent(`Service Request from ${clientName}`);
                const bodyContent = `Hi Trendora Media,\n\nI am interested in:\n` + 
                                    selectedServices.map(s => `- ${s}`).join('\n') + 
                                    `\n\nTotal Estimated: ${currentCurrency}${total.toLocaleString()}\n\nBest,\n${clientName}`;
                
                // IMPORTANT: CHANGE THIS EMAIL
                const myEmail = "vntshikosi@gmail.com"; 
                
                window.location.href = `mailto:${myEmail}?subject=${subject}&body=${encodeURIComponent(bodyContent)}`;
            }
        }
    </script>
</body>
</html>
